Conflux æ™ºèƒ½åˆçº¦å¼€å‘ä½“éªŒ
===
![](https://confluxnetwork.org/static/logo-w@2-a4802194a8a9b32e5ad6649b9c13cc33.png)

[Conflux](https://confluxnetwork.org/) æ˜¯æ–°ä¸€ä»£é«˜æ€§èƒ½å…¬é“¾ï¼ŒåŸºäºè‡ªç ”çš„TreeGraphè´¦æœ¬ç»“æ„å’ŒGHASTå…±è¯†åè®®ï¼Œèƒ½å¤Ÿåœ¨å®Œå…¨å»ä¸­å¿ƒåŒ–çš„å‰æä¸‹ï¼Œå®ç°3000+TPSçš„ååç‡ã€‚
å¹¶ä¸”å…¶æ™ºèƒ½åˆçº¦VMï¼Œå¯ä»¥å®Œå…¨å…¼å®¹EVMæ™ºèƒ½åˆçº¦ï¼Œæ„å‘³ç€ä»¥å¤ªåŠçš„æ™ºèƒ½åˆçº¦å¯ä»¥ä¸ç”¨æ”¹åŠ¨ç›´æ¥éƒ¨ç½²åˆ°ConfluxåŒºå—é“¾ä¸Šã€‚
ç›®å‰Confluxä¸»ç½‘æ­£åœ¨åˆ†é˜¶æ®µï¼ˆå…±ä¸‰é˜¶æ®µï¼‰ä¸Šçº¿ï¼Œè®¡åˆ’å¹´å†…å®Œæˆæ­£å¼å‘å¸ƒã€‚ç›®å‰å¤„äºç¬¬ä¸€é˜¶æ®µ(Pontus), å°ä¼™ä¼´ä»¬å¯ä»¥æå‰ä½“éªŒConflux é£ä¸€èˆ¬çš„é€Ÿåº¦ã€‚

* [åˆ›å»ºè´¦å·](#åˆ›å»ºConfluxåŒºå—é“¾è´¦å·)
* [è¿è¡Œæœ¬åœ°èŠ‚ç‚¹](è¿è¡Œæœ¬åœ°èŠ‚ç‚¹)
* [js-sdkå‘é€äº¤æ˜“](ä½¿ç”¨js-conflux-sdkå‘é€äº¤æ˜“)
* [å¼€å‘&ç¼–è¯‘æ™ºèƒ½åˆçº¦]()
* [éƒ¨ç½²]()
* [æ™ºèƒ½åˆçº¦äº¤äº’]()
* [å‚è€ƒ](å‚è€ƒèµ„æ–™)

## åˆ›å»ºConfluxåŒºå—é“¾è´¦å·
ä½“éªŒä»»ä½•åŒºå—é“¾ç³»ç»Ÿï¼Œè·å–è´¦å·ï¼ˆåœ°å€ï¼‰æ˜¯ç¬¬ä¸€æ­¥ï¼Œè´¦å·æ˜¯è¿›å…¥åŒºå—é“¾ä¸–ç•Œçš„é—¨ç¥¨æˆ–é’¥åŒ™ã€‚è¿è¡Œå…¨èŠ‚ç‚¹æŒ–çŸ¿ï¼Œéƒ¨ç½²æ™ºèƒ½åˆçº¦ï¼Œè·å–å‘é€æ•°å­—è´§å¸å‡éœ€è¦è´¦å·ã€‚
åŒºå—é“¾é’±åŒ…è½¯ä»¶éƒ½æä¾›åˆ›å»ºè´¦å·çš„åŠŸèƒ½ï¼Œç›®å‰Confluxæä¾›äº†ä¸¤æ¬¾é’±åŒ… Conflux Portal å’Œ Web walletã€‚


### Conflux Portal
[Conflux Portal](https://portal.conflux-chain.org/) æ˜¯ä¸€ä¸ªæµè§ˆå™¨æ‰©å±•ç¨‹åºï¼Œéœ€è¦åˆ°æµè§ˆå™¨æ‰©å±•å¸‚åœºå®‰è£…ã€‚Portal æ˜¯åœ¨ MetaMask åŸºç¡€ä¹‹ä¸Šä¿®æ”¹ï¼Œå¹¶é€‚é…Confluxç½‘ç»œçš„ï¼Œä¸»è¦æä¾›è´¦å·åˆ›å»ºï¼Œæ¢å¤ï¼Œæ”¶å‘ä»£å¸ï¼ŒæŸ¥çœ‹äº¤æ˜“ï¼Œåˆ‡æ¢ä¸åŒç½‘ç»œç­‰åŠŸèƒ½ã€‚


### (Web) Conflux Wallet
Conflux å®˜æ–¹çš„å¦å¤–ä¸€ä¸ªé’±åŒ…æ˜¯ Web ç‰ˆçš„ walletï¼Œä¸éœ€è¦å®‰è£…ï¼Œç›´æ¥é€šè¿‡[ç½‘å€](https://wallet.confluxscan.io/login)è®¿é—®ã€‚åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ web ç‰ˆwalletåï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ä¸ªé€‰é¡¹: è¿›å…¥é’±åŒ…ï¼Œåˆ›å»ºæ–°é’±åŒ…ã€‚

![](./images/web-wallet-entry.png)

1. æ–°ç”¨æˆ·é¦–æ¬¡è¿›æ¥åªèƒ½è¿›è¡Œåˆ›å»ºæ–°é’±åŒ…æ“ä½œï¼Œé’±åŒ…åˆ›å»ºé¦–å…ˆéœ€è¦è®¾ç½®å¯†ç ï¼Œè®¾ç½®å®Œæˆä¹‹åï¼Œä¼šæä¾› keystore ä¸‹è½½é“¾æ¥ï¼Œç‚¹å‡»ä¸‹è½½åˆ°æœ¬åœ°ã€‚
2. è€ç”¨æˆ·å¯é€‰æ‹©è¿›å…¥é’±åŒ…ï¼Œç¬¬ä¸€æ­¥ä¼šæç¤ºä¸Šä¼  keystore æ–‡ä»¶ï¼Œç„¶åè¾“å…¥å¯†ç ï¼ŒæˆåŠŸä¹‹åä¼šè¿›å…¥web wallet çš„ä¸»é¡µé¢ã€‚

![](./images/web-wallet-home.jpg)

è¯¥é¡µé¢ä¸»è¦æä¾›çš„åŠŸèƒ½æœ‰ï¼š
1. è´¦æˆ·åœ°å€ï¼ˆå¯ç‚¹å‡»å¤åˆ¶æˆ–æŸ¥çœ‹äºŒç»´ç ï¼‰ï¼Œå¦å¤–ä¸‹è¾¹æä¾›äº†ç§é’¥æŸ¥çœ‹çš„å›¾æ ‡
2. CFXèµ„äº§ç®¡ç†åŠŸèƒ½ï¼Œå¯æŸ¥çœ‹ä½™é¢ï¼Œæ”¶å‘CFX
3. FansCoinï¼ˆç¤¾åŒºå¸ï¼‰ç®¡ç†åŠŸèƒ½
4. ç½‘ç»œåˆ‡æ¢ï¼ˆweb wallet ç›®å‰åªæ”¯æŒPotusä¸»ç½‘ï¼‰
5. Confluxæµè§ˆå™¨é“¾æ¥
6. Potus ä»£å¸ç”³é¢†é“¾æ¥ï¼Œæ¯å°æ—¶å¯é¢†ä¸€æ¬¡ï¼ˆå¹¶éçœŸCFXï¼Œä¹‹åä¸»ç½‘é‡å¯ï¼Œè¯¥ä»£å¸å¤±æ•ˆï¼‰

éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š
1. åˆ›å»ºè´¦å·çš„å¯†ç å’Œkeystoreæ–‡ä»¶ä¸€å®šè¦å¦¥å–„ä¿ç®¡ï¼Œæœ‰è¿™ä¸¤è€…æ‰èƒ½è¿›å…¥é’±åŒ…ï¼Œå¦‚æœè¢«åˆ«äººè·å–ä¼šé€ æˆèµ„äº§è¢«ç›—
2. è´¦å·çš„ç§é’¥éå¸¸é‡è¦ï¼Œä¹Ÿä¸èƒ½éšæ„æ³„éœ²
3. ç§é’¥å’Œkeystoreå‡åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œä¸ä¼šä¸Šä¼ åˆ° Conflux æœåŠ¡å™¨ã€‚


é€šè¿‡web wallet å’Œconflux portalå‡å¯ä»¥åˆ›å»ºè´¦å·ï¼Œè·å–åœ°å€å’Œç§é’¥, åœ°å€é€šå¸¸ä»¥ 0xå¼€å¤´ï¼Œä¾‹å¦‚ ```0x10c410e4ed1977cf7f963cdcc8888e65e2d8a9a4```,
è´¦å·å’Œç§é’¥åœ¨éƒ¨ç½²åˆçº¦çš„æ—¶å€™éƒ½ä¼šç”¨åˆ°ã€‚


## è¿è¡Œæœ¬åœ°èŠ‚ç‚¹
Conflux Pontusç›®å‰è¿è¡Œçš„æ˜¯ Rust å¼€å‘çš„ Conflux [åè®®å®ç°](https://github.com/Conflux-Chain/conflux-rust)ï¼Œè¿è¡Œæœ¬åœ°èŠ‚ç‚¹å¯ä»¥ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„èŠ‚ç‚¹ç¨‹åºæˆ–
ä¸‹è½½æºç æœ¬åœ°ç¼–è¯‘ã€‚ä¸ºäº†å®Œæ•´ä½“éªŒï¼Œè¿™é‡Œé‡‡ç”¨ä¸‹è½½æºç è¿›è¡Œç¼–è¯‘çš„æ–¹å¼ã€‚ï¼ˆç¼–è¯‘ç¯å¢ƒä¸ºOSXï¼‰ã€‚

### å‡†å¤‡ç¼–è¯‘ç¯å¢ƒ
ç¼–è¯‘å‰éœ€è¦å…ˆå‡†å¤‡ç¯å¢ƒï¼Œå®‰è£…å¿…é¡»çš„è½¯ä»¶ï¼šRust, cmake, clangç­‰

1. åœ¨ osx ä¸­å¼€å‘ï¼Œå…ˆå®‰è£… xcode command line ä¸€å®šæ²¡é”™ï¼Œå¯ä»¥ç›´æ¥åœ¨App storeå®‰è£…Xcodeï¼ˆåŒ…å«command line å·¥å…·ï¼‰ï¼Œæˆ–ç›´æ¥åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤```xcode-select --install```å®‰è£… (å…·ä½“å®‰è£…æ­¥éª¤å¯è‡ªè¡ŒGoogle)
2. é€šè¿‡ rustup å®‰è£… Rust è¯­è¨€ç¯å¢ƒ 
    ```sh
    $ curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
    ```
3. å®‰è£…brew ï¼ˆmac ä¸‹çš„åŒ…ç®¡ç†è½¯ä»¶ï¼Œç¥å™¨ï¼‰
    ```sh
    $ /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
    ```
4. å®‰è£… cmake (conflux-rust ç¼–è¯‘å›ç”¨åˆ°ï¼‰ ```brew install cmake```
5. clang (xcode command line åŒ…å«ï¼Œä¸éœ€è¦å•ç‹¬å®‰è£…ï¼Œå½“ç„¶å¯ä»¥é€šè¿‡brew å®‰è£… ```brew install llvm```)

å…¶ä»–æ“ä½œç³»ç»Ÿçš„ç¯å¢ƒå‡†å¤‡æ–¹å¼å¯ä»¥å‚çœ‹å®˜æ–¹çš„[æ–‡æ¡£](https://developer.conflux-chain.org/docs/conflux-doc/docs/installation)

### ç¼–è¯‘ä»£ç 
cloneä»£ç ï¼Œç¼–è¯‘ï¼š
```sh
# download Conflux code
$ git clone https://github.com/Conflux-Chain/conflux-rust
$ cd conflux-rust
$ git checkout v0.5.0.4
# build in release mode
$ cargo build --release
```

ç›®å‰çš„ conflux-rust çš„ç‰ˆæœ¬å·æ˜¯ 0.5.0.4 clone ä»£ç å’Œç¼–è¯‘çš„è¿‡ç¨‹æ—¶é—´æ¯”è¾ƒé•¿ï¼Œéœ€è¦è€å¿ƒç­‰å¾…ğŸ¤“ï¼ˆè·Ÿæ®ç½‘ç»œæƒ…å†µï¼Œä¸ä¸€è€ŒåŒï¼‰ã€‚
ç¼–è¯‘ç»“æŸä¹‹åï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ target/releaseï¼Œé‡Œé¢åŒ…å«ä¸€ä¸ª conflux å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå³æ˜¯æˆ‘ä»¬æœ€ç»ˆè¦è¿è¡Œçš„æœ¬åœ°èŠ‚ç‚¹ç¨‹åºäº†ã€‚

### è¿è¡Œæœ¬åœ°èŠ‚ç‚¹
è¿è¡ŒèŠ‚ç‚¹æˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œåœ¨ä»£ç  runç›®å½•ä¸‹çš„ default.toml (tomlæ ¼å¼æ–‡ä»¶) æ˜¯é…ç½®æ–‡ä»¶æ¨¡æ¿ï¼Œæˆ‘ä»¬åªéœ€è¦ç®€å•é…ç½®å‡ é¡¹å³å¯ç”¨äºè¿è¡ŒèŠ‚ç‚¹ã€‚

1. ```public_address="124.193.101.50:32323"``` èŠ‚ç‚¹å¯¹å¤–çš„åœ°å€ï¼Œç”±IPï¼ˆå…¬ç½‘IPï¼Œå¯ä»¥é€šè¿‡Googleæˆ–ç™¾åº¦æœç´¢IPè·å¾—ï¼‰å’Œç«¯å£å·ï¼ˆé»˜è®¤32323ï¼‰ç»„æˆ
2. ```mining_author=1386b4185a223ef49592233b69291bbe5a80c527``` æŒ–çŸ¿å¥–åŠ±ç›®æ ‡è´¦å·ï¼Œä¹‹å‰åˆ›å»ºçš„è´¦å·å¯ä»¥å¡«åˆ°è¿™é‡Œï¼ˆæ³¨æ„å»æ‰åœ°å€å‰è¾¹çš„0xï¼Œä¸ç„¶å¯åŠ¨ä¼šæŠ¥é”™ï¼‰
3. ```bootnodes``` æ­¤é¡¹æ˜¯ç”¨äºåŒæ­¥æ•°æ®çš„å¯åŠ¨èŠ‚ç‚¹åœ°å€é…ç½®ï¼Œç‰ˆæœ¬ 0.5.0.4 è¿™é‡Œé»˜è®¤é…ç½®çš„æ˜¯ä¸»ç½‘ Pontus çš„èŠ‚ç‚¹ï¼Œå¯ä»¥ä¸ç”¨ä¿®æ”¹
4. ```start_mining=true``` å¦‚æœæƒ³å¼€å¯æŒ–çŸ¿ï¼Œæ‰“å¼€æ³¨é‡Šï¼Œå¹¶è®¾ç½®ä¸ºtrue 
5. ```jsonrpc_local_http_port=12539``` æœ¬åœ° rpc ç«¯å£é…ç½®ï¼Œæ‰“å¼€æ³¨é‡Šï¼Œå³å¯è®¿é—®æœ¬åœ°rpcæœåŠ¡

è®¾ç½®å¥½ä¹‹åï¼Œå°±å¯ä»¥å¯åŠ¨èŠ‚ç‚¹äº†
```sh
$ cd run
$ ../target/release/conflux --config default.toml
```

å¦‚æœä¸€åˆ‡æ­£å¸¸çš„è¯ï¼Œç¨‹åºä¼šå°è¯•è¿æ¥ç½‘ç»œä¸­çš„å…¶ä»–èŠ‚ç‚¹ï¼Œå¹¶å¼€å§‹åŒæ­¥åŒºå—æ•°æ®ï¼Œä½ ä¼šçœ‹åˆ° latest_epoch æ•°å­—ï¼Œä¸åœå¢é•¿ï¼Œè¿½èµ¶ä¸»ç½‘ã€‚

![](./images/local-node-syncing.png)


## ä½¿ç”¨js-conflux-sdkå‘é€äº¤æ˜“
Conflux ä¸ä»…æä¾›æ ‡å‡†çš„ JSONRPC 2.0 æ¥å£ç”¨äºè·Ÿé“¾è¿›è¡Œäº¤äº’ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†å¤šä¸ªè¯­è¨€çš„SDKï¼Œæ–¹ä¾¿å¿«é€Ÿå¼€å‘å’Œé›†æˆï¼ŒåŒ…æ‹¬JavaScriptï¼ŒJavaï¼ŒGoç­‰ã€‚å…¶ä¸­ JS ç‰ˆåŠŸèƒ½æœ€å®Œå–„ã€‚
å¦‚æœä½ è¿›è¡Œè¿‡ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦å¼€å‘ï¼Œå¯ä»¥æŠŠå®ƒç†è§£æˆ web3.jsï¼ŒåŒæ ·ä¹Ÿä½¿ç”¨ npm è¿›è¡Œå®‰è£…ã€‚

```npm install js-conflux-sdk```

å®‰è£…å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å®ƒå‘é€ä¸€ç¬” CFX äº¤æ˜“äº†

```js
// sendTx.js
const { Conflux, util } = require('js-conflux-sdk');

async function main() {
  const TestNetUrl = 'http://testnet-jsonrpc.conflux-chain.org:12537';
  // initiate a Conflux object
  const cfx = new Conflux({
    url: TestNetUrl,
    defaultGasPrice: 100, // The default gas price of your following transactions
    defaultGas: 1000000, // The default gas of your following transactions
    logger: console,
  });

  // account private key
  const PRIVATE_KEY = '0xxxxxxxxxxxx';  
  const account = cfx.Account(PRIVATE_KEY); // create account instance
  const receiver = '0x13d2bA4eD43542e7c54fbB6c5fCCb9f269C1f94C';

  let txParams = {
      from: account, // from account instance and will by sign by account.privateKey
      to: receiver, // accept address string or account instance
      value: util.unit.fromCFXToDrip(0.125), // use unit to transfer from 0.125 CFX to Drip
  };
  // send transaction
  const txHash = await cfx.sendTransaction(txParams);
  console.log(txHash);
}
  
main().catch(e => console.error(e));
```
å…¶ä¸­æœ‰å‡ ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼š

1. ç¤ºä¾‹ä¸­ä½¿ç”¨çš„æ˜¯Conflux Testnet çš„rpc æœåŠ¡
2. ç§é’¥éœ€è¦ä»¥0xå¼€å¤´ï¼Œä»é’±åŒ…ä¸­è·å–åˆ°çš„ç§é’¥æ˜¯ä¸åŒ…å«oxçš„
3. ç¤ºä¾‹ä»£ç å¯ä»¥åœ¨ node.js ç¯å¢ƒä¸­è¿è¡Œï¼Œå…·ä½“å‚çœ‹ sendTx.js
4. å…·ä½“ä½¿ç”¨é˜²èŒƒå‚çœ‹[å®˜æ–¹æ–‡æ¡£](https://developer.conflux-chain.org/docs/conflux-doc/docs/send_transaction)å’Œ[æºç ](https://github.com/Conflux-Chain/js-conflux-sdk)

## å¼€å‘ç¼–è¯‘æ™ºèƒ½åˆçº¦
Conflux å‡ ä¹å®Œå…¨å…¼å®¹ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦ï¼Œä»¥å¤ªåŠçš„æ™ºèƒ½åˆçº¦é€šå¸¸æƒ…å†µå¯ä»¥ä¸ç»ä¿®æ”¹ç›´æ¥éƒ¨ç½²åˆ°Confluxç½‘ç»œï¼Œè¿™é‡Œä¸»è¦æ¼”ç¤ºConfluxçš„Dappéƒ¨ç½²è¿‡ç¨‹å’Œæ–¹å¼ï¼Œæ‰€ä»¥åœ¨ä»¥å¤ªåŠå®˜ç½‘æ‰¾äº†ä¸€ä¸ªç®€å•çš„
coin æ™ºèƒ½åˆçº¦ã€‚å¯ä»¥è¿›è¡ŒåŸºæœ¬çš„æŒ–çŸ¿å’Œå‘é€æ“ä½œã€‚

```js
pragma solidity >=0.5.0 <0.7.0;

contract Coin {
    address public minter;
    mapping (address => uint) public balances;

    event Sent(address from, address to, uint amount);

    constructor() public {
        minter = msg.sender;
    }

    function mint(address receiver, uint amount) public {
        require(msg.sender == minter);
        require(amount < 1e60);
        balances[receiver] += amount;
    }

    function send(address receiver, uint amount) public {
        require(amount <= balances[msg.sender], "Insufficient balance.");
        balances[msg.sender] -= amount;
        balances[receiver] += amount;
        emit Sent(msg.sender, receiver, amount);
    }
}
```

### Remixåœ¨çº¿IDE
[Remix](https://remix.ethereum.org/)æ˜¯ä¸€ä¸ªä»¥å¤ªåŠæ™ºèƒ½åˆçº¦çš„åœ¨çº¿IDEï¼Œæä¾›æ™ºèƒ½åˆçº¦å¼€å‘ï¼Œæµ‹è¯•ï¼Œç¼–è¯‘ï¼Œéƒ¨ç½²ç­‰åŠŸèƒ½ï¼Œæœ¬æ–‡ä½¿ç”¨Remixæ¥ç¼–è¯‘ coin æ™ºèƒ½åˆçº¦ã€‚
æœ¬ä¾‹å­ä¸­æˆ‘ä»¬å°†ç”¨å®ƒæ¥ç¼–è¯‘æ™ºèƒ½åˆçº¦ï¼Œå½“ç„¶ä½ è¿˜å¯ä»¥ç”¨solcç¼–è¯‘å™¨ï¼Œtruffleç­‰å·¥å…·ç¼–è¯‘ã€‚æ‰“å¼€remixç½‘å€ä¹‹åæˆ‘ä»¬ä¼šçœ‹åˆ°å¦‚ä¸‹ç•Œé¢

![](./images/remix-home.jpg)

1. Icon panel å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œç¼–è¾‘ï¼Œç¼–è¯‘ç­‰ä¸»åŠŸèƒ½åˆ‡æ¢
2. Side panel ç‚¹å‡»åŠ å·å¯ä»¥æ·»åŠ æ–‡ä»¶ï¼Œç„¶åæŠŠæˆ‘ä»¬çš„ coin.sol ä»£ç å¤åˆ¶è¿›æ¥
3. å…·ä½“çš„æ–‡ä»¶åˆ—è¡¨
4. Remixæ”¯æŒ solidity å’Œ vyper ä¸¤ç§åˆçº¦å¼€å‘è¯­è¨€ï¼Œæˆ‘ä»¬è¿™é‡Œå…ˆé€‰æ‹© solidity ç¯å¢ƒï¼ˆé‡è¦ï¼‰
5. æ§åˆ¶å°ï¼šä¼šæ˜¾ç¤ºç¼–è¯‘ï¼Œéƒ¨ç½²ç­‰æ—¥å¿—ä¿¡æ¯ï¼Œè°ƒè¯•çš„æ—¶å€™å›éå¸¸æœ‰ç”¨ã€‚

æ–‡ä»¶åˆ›å»ºå¥½ï¼Œå¹¶æŠŠcoinåˆçº¦ä»£ç å¤åˆ¶è¿›æ¥ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œç¼–è¯‘äº†

![](./images/remix-compile.jpg)

1. é¦–å…ˆåœ¨Icon panelé€‰æ‹©ç¬¬äºŒé¡¹ï¼Œç¼–è¯‘åŠŸèƒ½
2. å¯ä»¥åˆ‡æ¢ä¸åŒç‰ˆæœ¬çš„ç¼–è¯‘å™¨ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥ä½¿ç”¨é»˜è®¤ç‰ˆæœ¬
3. ç‚¹å‡»compile coin.sol è¿›è¡Œç¼–è¯‘ï¼ˆéœ€è¦å…ˆè®©è¯¥æ–‡ä»¶å¤„äºé€‰ä¸­çŠ¶æ€ï¼‰
4. ç¼–è¯‘æˆåŠŸä¹‹åå¯ä»¥çœ‹åˆ° abi å’Œ bytecode çš„ä¸‹è½½æŒ‰é’®ï¼Œéœ€è¦æŠŠä¸¤ä¸ªä¸‹æ¥ä¸‹æ¥ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ä¸­ã€‚

è‡³æ­¤Remixå¸®æˆ‘ä»¬å®ç°äº†ç¼–è¯‘solidityåˆçº¦çš„åŠŸèƒ½ï¼Œå…¶å®å®ƒçš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªå·±æ¢ç´¢ã€‚


## åˆçº¦éƒ¨ç½²
åˆçº¦ç¼–è¯‘å¥½ï¼Œç»ˆäºå¯ä»¥è¿›è¡Œéƒ¨ç½²æ“ä½œäº†ï¼Œå¦‚æœå‰å‡ æ­¥ä½ éƒ½æ“ä½œæˆåŠŸçš„è¯ï¼Œä½ ç°åœ¨åº”è¯¥æœ‰ä¸€ä¸ªConflux çš„è´¦å·å’Œç§é’¥ï¼Œé€šè¿‡Facuet é¢†å–äº†ä¸€äº›CFXå¸ï¼Œæœ‰æ™ºèƒ½åˆçº¦çš„abiå’Œbytecodeã€‚
å¹¶ä¸”ä½ è¿˜ä¼šä½¿ç”¨ js-conflux-sdk, å¥½æˆ‘ä»¬ç°åœ¨æ¥å°†åˆçº¦éƒ¨ç½²åˆ°confluxç½‘ç»œã€‚

```js
const { Conflux } = require('js-conflux-sdk');
const MAIN_PRIVATE_KEY = '0xxxxxxxxxx';
const testNetUrl = 'http://testnet-jsonrpc.conflux-chain.org:12537'

async function main() {
  const cfx = new Conflux({
    url: testNetUrl,
    defaultGasPrice: 100,
    defaultGas: 1000000,
    logger: console,
  });

  const account = cfx.Account(MAIN_PRIVATE_KEY); // create account instance
  console.log(account.address);

  // ================================ Contract ================================
  // create contract instance
  const contract = cfx.Contract({
    abi: require('./contracts/coin.abi.json'),
    bytecode: require('./contracts/coin.bin.json'),
  });

  // estimate deploy contract gas use
  //   const estimate = await contract.constructor().estimateGasAndCollateral();
  //   console.log(JSON.stringify(estimate));

  // deploy the contract, and get `contractCreated`
  const receipt = await contract.constructor()
    .sendTransaction({ from: account })
    .confirmed();
  console.log(receipt); 
}

main().catch(e => console.error(e));
```

éœ€è¦æ³¨æ„çš„å‡ ç‚¹ï¼š
1. coin.bin.json æ–‡ä»¶ä¸­åŒ…å«ä»Remixå¤åˆ¶å‡ºæ¥çš„bytecodeæ•°æ®çš„ object ä¿¡æ¯ï¼Œå¹¶ä¸”éœ€è¦æ·»åŠ  0x å‰ç¼€ï¼Œå¹¶ç”¨åŒå¼•å·å¼•èµ·æ¥æ‰èƒ½é€šè¿‡requireçš„æ–¹å¼åŠ è½½è¿›æ¥ ï¼ˆæˆ–è€…ç›´æ¥å°†objectæ”¾åˆ°ä»£ç ä¸­ä¹Ÿå¯ä»¥ï¼‰
2. ä½¿ç”¨ abi å’Œ bytecode æ„å»º contractï¼Œ ç„¶åè°ƒç”¨ constructorï¼Œå¹¶ä½¿ç”¨ account å‘é€ transaction
3. confirmed() æ–¹æ³•ä¼šå®šæ—¶è¯·æ±‚ conflux ç½‘ç»œï¼Œç›´åˆ°äº¤æ˜“è¢«ç¡®è®¤ã€‚
4. åˆçº¦åˆ›å»ºæˆåŠŸå receipt ä¸­ä¼šåŒ…å«äº¤æ˜“çš„ hashï¼Œåˆçº¦çš„åœ°å€ç­‰ä¿¡æ¯ï¼Œå¯ä»¥åˆ° confluxscan ä¸­æŸ¥çœ‹è¯¦æƒ…ã€‚

## å‚è€ƒèµ„æ–™

1. [Conflux doc](https://developer.conflux-chain.org/)